{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\frank\\\\Documents\\\\Python Scripts\\\\in_progress\\\\dev_mkt_watchboard\\\\v1\\\\react\\\\src\\\\App.js\";\nimport React, { useState, printRef } from 'react';\nimport Chart from './components/Chart';\nimport './App.css';\nimport html2canvas from 'html2canvas';\nimport jsPDF from 'jspdf';\nfunction App() {\n  const [tickers] = useState(['^GSPC', '^IXIC', '^DJI', '000002.SS', '399107.SZ', '^HSI', '^STOXX', '^FTSE', '^GDAXI', 'GC=F', 'HG=F', 'Missing Copper/Gold Ratio', 'CL=F', 'BZ=F', 'NG=F', 'DX-Y.NYB', 'EURCNY=X', 'JPYCNY=X', 'CNY=X', 'HKDCNY=X', 'JPY=X']);\n  const handleDownloadPdf = async () => {\n    const element = printRef.current;\n    const canvas = await html2canvas(element, {\n      scrollY: -window.scrollY,\n      useCORS: true\n    });\n    const imgData = canvas.toDataURL('image/png');\n    const pdf = new jsPDF({\n      orientation: 'portrait',\n      unit: 'px',\n      format: [canvas.width, canvas.height]\n    });\n    let pdfHeight = pdf.internal.pageSize.getHeight();\n    let pdfWidth = pdf.internal.pageSize.getWidth();\n    let totalHeight = canvas.height;\n    for (let position = 0; position < totalHeight; position += pdfHeight) {\n      if (position !== 0) {\n        pdf.addPage();\n      }\n      pdf.addImage(imgData, 'PNG', 0, -position, pdfWidth, totalHeight);\n    }\n    pdf.save('download.pdf');\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: printRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"app-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"logo.png\",\n    alt: \"Logo\",\n    className: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, \"Market Dashboard\"), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"subtitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, \"by Frank Zhao\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"instructions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, \"\\u672C\\u7A0B\\u5E8F\\u7528\\u4E8E\\u8DDF\\u8E2A\\u5404\\u5E02\\u573A\\u6307\\u6807\\uFF0C\\u6570\\u636E\\u975E\\u5B9E\\u65F6\\u66F4\\u65B0\\uFF0C\\u5C55\\u793A\\u7686\\u4E3A\\u6536\\u76D8\\u4EF7\\uFF0C\\u4EC5\\u4F9B\\u53C2\\u8003\\u3002\\u90E8\\u5206\\u56FE\\u8868\\u672A\\u5B8C\\u6210\\uFF0C\\u8BF7\\u5F85\\u540E\\u7EED\\u66F4\\u65B0\\uFF1B\\u540E\\u7EED\\u4EA6\\u6709\\u66F4\\u591A\\u529F\\u80FD\\u66F4\\u65B0\\u3002 \\u5168\\u90E8\\u4E3A\\u975E\\u5DE5\\u4F5C\\u65F6\\u95F4\\u5B8C\\u6210\\uFF0C\\u66F4\\u65B0\\u8F83\\u6162\\u8BF7\\u8C05\\u89E3\\u3002\\u5982\\u6709\\u95EE\\u9898\\u6216\\u4FEE\\u6539\\u5EFA\\u8BAE\\u6B22\\u8FCE\\u8054\\u7CFB\\u5FAE\\u4FE1\\uFF1Afrankz2020\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleDownloadPdf,\n    className: \"download-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, \"Download as PDF\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chart-grid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, tickers.map(ticker => /*#__PURE__*/React.createElement(Chart, {\n    key: ticker,\n    ticker: ticker,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }))));\n}\nexport default App;","map":{"version":3,"names":["React","useState","printRef","Chart","html2canvas","jsPDF","App","tickers","handleDownloadPdf","element","current","canvas","scrollY","window","useCORS","imgData","toDataURL","pdf","orientation","unit","format","width","height","pdfHeight","internal","pageSize","getHeight","pdfWidth","getWidth","totalHeight","position","addPage","addImage","save","createElement","ref","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","src","alt","onClick","map","ticker","key"],"sources":["C:/Users/frank/Documents/Python Scripts/in_progress/dev_mkt_watchboard/v1/react/src/App.js"],"sourcesContent":["import React, { useState, printRef } from 'react';\r\nimport Chart from './components/Chart';\r\nimport './App.css'; \r\nimport html2canvas from 'html2canvas';\r\nimport jsPDF from 'jspdf';\r\n\r\nfunction App() {\r\n  const [tickers] = useState([\r\n    '^GSPC', '^IXIC', '^DJI',\r\n    '000002.SS', '399107.SZ', '^HSI',\r\n    '^STOXX', '^FTSE', '^GDAXI',\r\n    'GC=F', 'HG=F', 'Missing Copper/Gold Ratio',\r\n    'CL=F', 'BZ=F', 'NG=F',\r\n    'DX-Y.NYB', 'EURCNY=X', 'JPYCNY=X',\r\n    'CNY=X', 'HKDCNY=X', 'JPY=X'\r\n  ]);\r\n\r\n  const handleDownloadPdf = async () => {\r\n    const element = printRef.current;\r\n    const canvas = await html2canvas(element, {\r\n      scrollY: -window.scrollY,\r\n      useCORS: true\r\n    });\r\n    const imgData = canvas.toDataURL('image/png');\r\n    \r\n    const pdf = new jsPDF({\r\n      orientation: 'portrait',\r\n      unit: 'px',\r\n      format: [canvas.width, canvas.height]\r\n    });\r\n  \r\n    let pdfHeight = pdf.internal.pageSize.getHeight();\r\n    let pdfWidth = pdf.internal.pageSize.getWidth();\r\n    let totalHeight = canvas.height;\r\n    \r\n    for (let position = 0; position < totalHeight; position += pdfHeight) {\r\n      if (position !== 0) {\r\n        pdf.addPage();\r\n      }\r\n      pdf.addImage(imgData, 'PNG', 0, -position, pdfWidth, totalHeight);\r\n    }\r\n  \r\n    pdf.save('download.pdf');\r\n  };\r\n\r\n  return (\r\n    <div ref={printRef}>\r\n\r\n      <header className=\"app-header\">\r\n        <div className=\"header-content\">\r\n          <img src=\"logo.png\" alt=\"Logo\" className=\"logo\" />\r\n          <div>\r\n            <h1 className=\"title\">Market Dashboard</h1>\r\n            <h2 className=\"subtitle\">by Frank Zhao</h2>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      <div className=\"instructions\">\r\n        <p>\r\n          本程序用于跟踪各市场指标，数据非实时更新，展示皆为收盘价，仅供参考。部分图表未完成，请待后续更新；后续亦有更多功能更新。\r\n          全部为非工作时间完成，更新较慢请谅解。如有问题或修改建议欢迎联系微信：frankz2020\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"button-container\">\r\n        <button onClick={handleDownloadPdf} className=\"download-button\">Download as PDF</button>\r\n      </div>\r\n\r\n      <div className=\"chart-grid\">\r\n        {tickers.map(ticker => (\r\n          <Chart key={ticker} ticker={ticker} />\r\n        ))}\r\n      </div>\r\n\r\n    </div>\r\n  \r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,QAAQ,QAAQ,OAAO;AACjD,OAAOC,KAAK,MAAM,oBAAoB;AACtC,OAAO,WAAW;AAClB,OAAOC,WAAW,MAAM,aAAa;AACrC,OAAOC,KAAK,MAAM,OAAO;AAEzB,SAASC,GAAGA,CAAA,EAAG;EACb,MAAM,CAACC,OAAO,CAAC,GAAGN,QAAQ,CAAC,CACzB,OAAO,EAAE,OAAO,EAAE,MAAM,EACxB,WAAW,EAAE,WAAW,EAAE,MAAM,EAChC,QAAQ,EAAE,OAAO,EAAE,QAAQ,EAC3B,MAAM,EAAE,MAAM,EAAE,2BAA2B,EAC3C,MAAM,EAAE,MAAM,EAAE,MAAM,EACtB,UAAU,EAAE,UAAU,EAAE,UAAU,EAClC,OAAO,EAAE,UAAU,EAAE,OAAO,CAC7B,CAAC;EAEF,MAAMO,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IACpC,MAAMC,OAAO,GAAGP,QAAQ,CAACQ,OAAO;IAChC,MAAMC,MAAM,GAAG,MAAMP,WAAW,CAACK,OAAO,EAAE;MACxCG,OAAO,EAAE,CAACC,MAAM,CAACD,OAAO;MACxBE,OAAO,EAAE;IACX,CAAC,CAAC;IACF,MAAMC,OAAO,GAAGJ,MAAM,CAACK,SAAS,CAAC,WAAW,CAAC;IAE7C,MAAMC,GAAG,GAAG,IAAIZ,KAAK,CAAC;MACpBa,WAAW,EAAE,UAAU;MACvBC,IAAI,EAAE,IAAI;MACVC,MAAM,EAAE,CAACT,MAAM,CAACU,KAAK,EAAEV,MAAM,CAACW,MAAM;IACtC,CAAC,CAAC;IAEF,IAAIC,SAAS,GAAGN,GAAG,CAACO,QAAQ,CAACC,QAAQ,CAACC,SAAS,CAAC,CAAC;IACjD,IAAIC,QAAQ,GAAGV,GAAG,CAACO,QAAQ,CAACC,QAAQ,CAACG,QAAQ,CAAC,CAAC;IAC/C,IAAIC,WAAW,GAAGlB,MAAM,CAACW,MAAM;IAE/B,KAAK,IAAIQ,QAAQ,GAAG,CAAC,EAAEA,QAAQ,GAAGD,WAAW,EAAEC,QAAQ,IAAIP,SAAS,EAAE;MACpE,IAAIO,QAAQ,KAAK,CAAC,EAAE;QAClBb,GAAG,CAACc,OAAO,CAAC,CAAC;MACf;MACAd,GAAG,CAACe,QAAQ,CAACjB,OAAO,EAAE,KAAK,EAAE,CAAC,EAAE,CAACe,QAAQ,EAAEH,QAAQ,EAAEE,WAAW,CAAC;IACnE;IAEAZ,GAAG,CAACgB,IAAI,CAAC,cAAc,CAAC;EAC1B,CAAC;EAED,oBACEjC,KAAA,CAAAkC,aAAA;IAAKC,GAAG,EAAEjC,QAAS;IAAAkC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAEjBzC,KAAA,CAAAkC,aAAA;IAAQQ,SAAS,EAAC,YAAY;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC5BzC,KAAA,CAAAkC,aAAA;IAAKQ,SAAS,EAAC,gBAAgB;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC7BzC,KAAA,CAAAkC,aAAA;IAAKS,GAAG,EAAC,UAAU;IAACC,GAAG,EAAC,MAAM;IAACF,SAAS,EAAC,MAAM;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eAClDzC,KAAA,CAAAkC,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACEzC,KAAA,CAAAkC,aAAA;IAAIQ,SAAS,EAAC,OAAO;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,kBAAoB,CAAC,eAC3CzC,KAAA,CAAAkC,aAAA;IAAIQ,SAAS,EAAC,UAAU;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,eAAiB,CACvC,CACF,CACC,CAAC,eAETzC,KAAA,CAAAkC,aAAA;IAAKQ,SAAS,EAAC,cAAc;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC3BzC,KAAA,CAAAkC,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAG,ukBAGA,CACA,CAAC,eAENzC,KAAA,CAAAkC,aAAA;IAAKQ,SAAS,EAAC,kBAAkB;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC/BzC,KAAA,CAAAkC,aAAA;IAAQW,OAAO,EAAErC,iBAAkB;IAACkC,SAAS,EAAC,iBAAiB;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,iBAAuB,CACpF,CAAC,eAENzC,KAAA,CAAAkC,aAAA;IAAKQ,SAAS,EAAC,YAAY;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACxBlC,OAAO,CAACuC,GAAG,CAACC,MAAM,iBACjB/C,KAAA,CAAAkC,aAAA,CAAC/B,KAAK;IAAC6C,GAAG,EAAED,MAAO;IAACA,MAAM,EAAEA,MAAO;IAAAX,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CACtC,CACE,CAEF,CAAC;AAGV;AAEA,eAAenC,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module"}