(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){e.exports=a(34)},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(12),c=a.n(r),o=a(13),s=a.n(o),i=a(38);a(31);function d(e){const t=new Date(e);return"".concat(t.getFullYear(),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getDate().toString().padStart(2,"0"))}var m=function(e){let{ticker:t}=e;const[a,r]=Object(n.useState)([]),[c,o]=Object(n.useState)(""),[m,h]=Object(n.useState)({});return Object(n.useEffect)(()=>{i.a.get("".concat("https://market-dashboard-419006.df.r.appspot.com/","/data/").concat(t)).then(e=>{const t=e.data,a=t.name,n=JSON.parse(t.prices),l=n.map(e=>e.Date),c=n.map(e=>e.Close),s=c[c.length-1],i=(c[c.length-1]-c[c.length-2])/c[c.length-2]*100,d=(new Date).getFullYear()-1,m=c[l.findIndex(e=>new Date(e).getFullYear()>d)-1],g=(s-m)/m*100,u=Math.max(...c),p=l[c.indexOf(u)],E=Math.min(...c),N=l[c.indexOf(E)];r([{x:l,y:c,type:"scatter",mode:"lines"}]),o(a),h({latestPrice:s,latestChange:i,ytdChange:g,high:u,highDate:p,low:E,lowDate:N})}).catch(e=>{console.error("Error fetching data:",e)})},[t]),l.a.createElement("div",{className:"chart"},l.a.createElement(s.a,{data:a,layout:{autosize:!0,title:c,height:200,margin:{l:35,r:35,b:35,t:35,pad:4}},useResizeHandler:!0,style:{width:"100%",height:"100%"}}),l.a.createElement("div",{className:"chart-metrics"},l.a.createElement("p",null,"Latest price: ",l.a.createElement("span",null,m.latestPrice?m.latestPrice.toFixed(2):"N/A")),l.a.createElement("p",null,"Latest change: ",l.a.createElement("span",{style:{color:m.latestChange>0?"red":"green"}},m.latestChange?m.latestChange.toFixed(2):"N/A","%")),l.a.createElement("p",null,"YTD: ",l.a.createElement("span",{style:{color:m.ytdChange>0?"red":"green"}},m.ytdChange?m.ytdChange.toFixed(2):"N/A","%")),l.a.createElement("p",null,"High: ",l.a.createElement("span",null,m.high?m.high.toFixed(2):"N/A")," on ",l.a.createElement("span",null,m.highDate?d(m.highDate):"N/A")),l.a.createElement("p",null,"Low: ",l.a.createElement("span",null,m.low?m.low.toFixed(2):"N/A")," on ",l.a.createElement("span",null,m.lowDate?d(m.lowDate):"N/A"))))},h=(a(32),a(9)),g=a.n(h),u=a(14);var p=function(){const[e]=Object(n.useState)(["^GSPC","^IXIC","^DJI","000002.SS","399107.SZ","^HSI","^STOXX","^FTSE","^GDAXI","GC=F","HG=F","Missing Copper/Gold Ratio","CL=F","BZ=F","NG=F","DX-Y.NYB","EURCNY=X","JPYCNY=X","CNY=X","HKDCNY=X","JPY=X"]),t=Object(n.useRef)();return l.a.createElement("div",{ref:t},l.a.createElement("header",{className:"app-header"},l.a.createElement("div",{className:"header-content"},l.a.createElement("img",{src:"logo.png",alt:"Logo",className:"logo"}),l.a.createElement("div",null,l.a.createElement("h1",{className:"title"},"Market Dashboard"),l.a.createElement("h2",{className:"subtitle"},"by Frank Zhao")))),l.a.createElement("div",{className:"instructions"},l.a.createElement("p",null,"\u672c\u7a0b\u5e8f\u7528\u4e8e\u8ddf\u8e2a\u5404\u5e02\u573a\u6307\u6807\uff0c\u6570\u636e\u975e\u5b9e\u65f6\u66f4\u65b0\uff0c\u5c55\u793a\u7686\u4e3a\u6536\u76d8\u4ef7\uff0c\u4ec5\u4f9b\u53c2\u8003\u3002\u90e8\u5206\u56fe\u8868\u672a\u5b8c\u6210\uff0c\u8bf7\u5f85\u540e\u7eed\u66f4\u65b0\uff1b\u540e\u7eed\u4ea6\u6709\u66f4\u591a\u529f\u80fd\u66f4\u65b0\u3002 \u5168\u90e8\u4e3a\u975e\u5de5\u4f5c\u65f6\u95f4\u5b8c\u6210\uff0c\u66f4\u65b0\u8f83\u6162\u8bf7\u8c05\u89e3\u3002\u5982\u6709\u95ee\u9898\u6216\u4fee\u6539\u5efa\u8bae\u6b22\u8fce\u8054\u7cfb\u5fae\u4fe1\uff1afrankz2020")),l.a.createElement("div",{className:"chart-grid"},e.map(e=>l.a.createElement(m,{key:e,ticker:e}))),l.a.createElement("div",{className:"button-container"},l.a.createElement("button",{onClick:async()=>{const e=t.current,a=await g()(e,{scrollY:-window.scrollY,useCORS:!0}),n=a.toDataURL("image/png"),l=new u.a({orientation:"portrait",unit:"px",format:[a.width,a.height]});let r=l.internal.pageSize.getHeight(),c=l.internal.pageSize.getWidth(),o=a.height;for(let t=0;t<o;t+=r)0!==t&&l.addPage(),l.addImage(n,"PNG",0,-t,c,o);l.save("download.pdf")},className:"download-button"},"Download as PDF")))};a(33);c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(p,null)),document.getElementById("root"))}},[[16,1,3]]]);
//# sourceMappingURL=main.2757a443.chunk.js.map